<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi novia ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    background: linear-gradient(to bottom, #f8e1e7, #f3c5d3);
    font-family:Arial, Helvetica, sans-serif;
    overflow:hidden;
}

/* LUCES */
#luces{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-1;
}

.luz{
    position:absolute;
    width:8px;
    height:8px;
    background:white;
    border-radius:50%;
    opacity:0.5;
    animation: flotar 6s infinite ease-in-out;
}

@keyframes flotar{
    0%{ transform:translateY(0px); opacity:0.3; }
    50%{ transform:translateY(-20px); opacity:0.8; }
    100%{ transform:translateY(0px); opacity:0.3; }
}

/* SOBRE */
.sobre{
    position:relative;
    width:320px;
    height:220px;
    cursor:pointer;
    perspective:1000px;
}

.cuerpo{
    position:absolute;
    width:100%;
    height:100%;
    background:#8b1e3f;
    border-radius:12px;
    box-shadow:0 15px 30px rgba(0,0,0,0.3);
}

.cuerpo::before{
    content:"";
    position:absolute;
    bottom:0;
    width:100%;
    height:100%;
    background:#a52a52;
    clip-path:polygon(0 100%,50% 60%,100% 100%);
}

.tapa{
    position:absolute;
    width:100%;
    height:100%;
    background:#b23a5a;
    clip-path:polygon(0 0,100% 0,50% 65%);
    transform-origin:top;
    transition:transform 0.8s ease;
    border-radius:12px;
    z-index:3;
}

.sobre.abierto .tapa{
    transform:rotateX(180deg);
}

/* CORAZ√ìN */
.sobre::after{
    content:"‚ù§Ô∏è";
    position:absolute;
    font-size:40px;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    animation: latido 1s infinite;
}

@keyframes latido{
    0%{ transform:translate(-50%,-50%) scale(1); }
    50%{ transform:translate(-50%,-50%) scale(1.2); }
    100%{ transform:translate(-50%,-50%) scale(1); }
}

/* FRASE */
#fraseSobre{
    margin-top:20px;
    font-size:20px;
    color:#8b1e3f;
    text-align:center;
    transition:opacity 0.5s ease;
}

/* CARTA */
.carta{
    position:absolute;
    width:380px;
    max-height:80vh;
    overflow-y:auto;
    background:white;
    border-radius:15px;
    padding:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
    text-align:center;
    transform:scale(0);
    transition:transform 0.8s ease;
}

.carta.abierta{
    transform:scale(1);
}

.carta img{
    width:100%;
    border-radius:10px;
    margin-bottom:15px;
}

#mensaje{
    font-size:18px;
    color:#333;
    margin-bottom:20px;
    text-align:left;
}

/* BOTONES */
button{
    padding:10px 20px;
    border:none;
    border-radius:20px;
    background:#8b1e3f;
    color:white;
    font-size:16px;
    cursor:pointer;
    margin:5px;
}

button:hover{
    background:#a52a52;
}

/* PETALOS */
#petalos{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    overflow:hidden;
    z-index:9999;
}

.petalo{
    position:absolute;
    font-size:30px;
    animation: caer 6s linear forwards;
}

@keyframes caer{
    from{ transform:translateY(-50px); opacity:1; }
    to{ transform:translateY(100vh); opacity:0; }
}
</style>
</head>

<body>

<div id="luces"></div>

<div class="sobre" id="sobre">
    <div class="tapa"></div>
    <div class="cuerpo"></div>
</div>

<p id="fraseSobre">Para mi novia de su loquito üíå (Haz clic)</p>

<div class="carta" id="carta">
    <img src="nostros.jpeg" alt="Nuestra foto">
    <p id="mensaje"></p>
    <button id="btnMusica">Pausar m√∫sica üéµ</button>
    <button id="btnFinal">¬øQuieres seguir conmigo? üíç</button>
</div>

<audio id="musica" src="Ed Sheeran - Perfect.mp3"></audio>
<div id="petalos"></div>

<script>
const sobre = document.getElementById("sobre");
const carta = document.getElementById("carta");
const musica = document.getElementById("musica");
const btnMusica = document.getElementById("btnMusica");
const frase = document.getElementById("fraseSobre");
const mensaje = document.getElementById("mensaje");
const btnFinal = document.getElementById("btnFinal");

/* LUCES */
const lucesContainer = document.getElementById("luces");
for(let i=0;i<30;i++){
    const luz = document.createElement("div");
    luz.classList.add("luz");
    luz.style.left = Math.random()*100 + "vw";
    luz.style.top = Math.random()*100 + "vh";
    luz.style.animationDuration = (4 + Math.random()*4) + "s";
    lucesContainer.appendChild(luz);
}

/* TEXTO LARGO */
const textoLargo = `
Mi amor,

No he sido bueno iniciando con las palabras, pero quiero que sepas que estos dias han sido 
una experecia increible junto a ti claro aunuqe no salgamos muy amenudo y no hableos cada 5 min 
se que te estas esforzando en la u y en tus cosas en tu casa pero cada que nos vemos se que solo han sido 
2 veces jaja nose pude sentir una cenexi√≥n contigo el reirnos de todo el hablar durante horas sin que nos demos cuenta del 
timepo esas son cosas que no se tienen con cualquiera sindo sinceros aun nose que nos depara el futuro pero almenos se 
que quiero estar contigo ojala y que podamos tener una reacion larga y duradera es raro escribir una carta mientras me escribes por chat que me amas 
no se como expresarte como me siento asi que solo dire que gracias por ser tan maravillosa conmigo y por este poco timpo almenos hacerme sentir especial
intento escribir todo de corazon pero no me es facil poner sentimientso en una carta yo soy mas de abrazar y decirte al oido todo lo que sinto amelia espero enserio de corazaon
que me ames tanto como yo lo hago y que algun d√≠a tu coraz√≥n solo vea por mi jajaja es un poco egoista no?, pero no se quiero ser lo primero y en lo ultimo que pienses
quiero ser simpre ese al cual ames y si dios lo permite algun dia llegra hacer mucho mas que solo novios, no te mentire hay ratos que me da miedo todo porq asi como tu 
yo tambien he sido lastimado sin embargo simpre creere en el amor y espero que tu igual, terminare esta carte diciendo que espero que para la proximo detalle que te haga
existan muchas mas cosas que decir y muchas mas imagenes que agregar de buenos momentos juntos no olvides que te amo y ojala en un futuro lejano ser una famila 
sin nada mas que decir tu loquito del centro, te amo

Te amo infinitamente ‚ù§Ô∏è
`;

sobre.addEventListener("click", function(){

    if(!carta.classList.contains("abierta")){

        sobre.classList.add("abierto");
        carta.classList.add("abierta");
        frase.style.opacity = "0";

        musica.volume = 0.5;
        musica.play();

        mensaje.innerText = textoLargo;

        crearPetalos();
    }
});

btnMusica.addEventListener("click", function(){
    if(musica.paused){
        musica.play();
        btnMusica.textContent = "Pausar m√∫sica üéµ";
    }else{
        musica.pause();
        btnMusica.textContent = "Reanudar m√∫sica üéµ";
    }
});

/* FRASES CAMBIANTES */
const frasesFinales = [
"Sab√≠a que dir√≠as que s√≠ üòè‚ù§Ô∏è",
"Entonces prep√°rate para amarme toda la vida üíï",
"No tienes escapatoria, eres m√≠a oficialmente üòå",
"Perfecto, ahora eres mi novia para siempre üíç",
"Eso significa que me amas much√≠simo üòé‚ù§Ô∏è"
];

btnFinal.addEventListener("click", function(){
    const fraseRandom = frasesFinales[Math.floor(Math.random()*frasesFinales.length)];
    alert(fraseRandom);
});

function crearPetalos(){
    const contenedor = document.getElementById("petalos");
    for(let i = 0; i < 30; i++){
        const petalo = document.createElement("div");
        petalo.classList.add("petalo");
        petalo.innerHTML = "üå∏";
        petalo.style.left = Math.random() * window.innerWidth + "px";
        contenedor.appendChild(petalo);
        setTimeout(() => { petalo.remove(); }, 6000);
    }
}
</script>

</body>
</html>